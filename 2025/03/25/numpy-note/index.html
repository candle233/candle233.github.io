<!-- build time:Sat Mar 29 2025 23:26:47 GMT+0900 (Japan Standard Time) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="alternate" href="/rss.xml" title="Huaji Blog" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="Huaji Blog" type="application/atom+xml"><link rel="alternate" type="application/json" title="Huaji Blog" href="https://candle233.github.io/feed.json"><link rel="preconnect" href="https://s4.zstatic.net"><link rel="preconnect" href="https://at.alicdn.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.25"><link rel="modulepreload" href="/js/chunk-FE7W6MFH.js"><link rel="modulepreload" href="/js/chunk-K5ODOYEG.js"><link rel="modulepreload" href="/js/chunk-PK67Z7U5.js"><link rel="modulepreload" href="/js/chunk-WIQECBEN.js"><link rel="modulepreload" href="/js/chunk-X3FGD7QT.js"><link rel="modulepreload" href="/js/chunk-ZNTKHCU2.js"><link rel="modulepreload" href="/js/comments-QB67ZP7N.js"><link rel="modulepreload" href="/js/copy-tex-OJMSEHF2.js"><link rel="modulepreload" href="/js/index.esm-NVG3WTU6.js"><link rel="modulepreload" href="/js/post-SFTNZQEF.js"><link rel="modulepreload" href="/js/quicklink-E4BA7HLG.js"><link rel="modulepreload" href="/js/search-SNY64TQB.js"><link rel="modulepreload" href="/js/siteInit.js"><link rel="modulepreload" href="/js/waline-NVSVNCZW.js"><link rel="stylesheet" href="/css/comments-F4ZGS7LD.css" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/siteInit.css" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/waline-IDNZKML2.css" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="preload" href="https://s2.loli.net/2025/03/23/VuSkPXEdxhypjGv.png" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2025/03/23/92yGUctZsqvR7Af.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2025/03/24/uNPS4vY7omqBAak.png" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2025/03/23/fiZIOhkbHp51m6P.png" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2025/03/23/DmbOqdgkNAXeEYt.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2025/03/24/u6eirbm4RPV2nsA.png" as="image" fetchpriority="high"><meta name="keywords" content="Python"><meta name="description" content="To keep notes and my daily life"><link rel="canonical" href="https://candle233.github.io/2025/03/25/numpy-note/"><title>numpy-note</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">numpy-note</h1><div class="meta"><span class="item" title="Created: 2025-03-25 19:28:44"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">Posted on</span><time itemprop="dateCreated datePublished" datetime="2025-03-25T19:28:44+09:00">2025-03-25</time></span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i></span><span class="text">Symbols count in article</span><span>22k</span><span class="text">words</span></span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i></span><span class="text">Reading time</span><span>20 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Welcome!</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/23/VuSkPXEdxhypjGv.png&quot;)"></li><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/23/92yGUctZsqvR7Af.jpg&quot;)"></li><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/24/uNPS4vY7omqBAak.png&quot;)"></li><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/23/fiZIOhkbHp51m6P.png&quot;)"></li><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/23/DmbOqdgkNAXeEYt.jpg&quot;)"></li><li class="item" style="background-image:url(&quot;https://s2.loli.net/2025/03/24/u6eirbm4RPV2nsA.png&quot;)"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">Home</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Compyter-Science/" itemprop="item" rel="index" title="InCompyter Science"><span itemprop="name">Compyter Science<meta itemprop="position" content="0"></span></a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Compyter-Science/Mathematics/" itemprop="item" rel="index" title="InMathematics"><span itemprop="name">Mathematics<meta itemprop="position" content="1"></span></a></span></div><article class="post block" itemscope itemtype="http://schema.org/Article" lang="en"><link itemprop="mainEntityOfPage" href="https://candle233.github.io/2025/03/25/numpy-note/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="huaji"><meta itemprop="description" content="Personal note, To keep notes and my daily life"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Huaji Blog"></span><div class="body md" itemprop="articleBody"><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#默认会给 numpy 起别名为 np</span></pre></td></tr></table></figure><blockquote><p>NumPy 的全称是 “Numeric Python”，它是 Python 的第三方扩展包，主要用来计算、处理一维或多维数组。</p></blockquote><h2 id="参数设置"><a class="anchor" href="#参数设置">#</a> 参数设置</h2><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 想要 print () 全部数据，需要设置</span></pre></td></tr><tr><td data-num="2"></td><td><pre>numpy<span class="token punctuation">.</span>set_printoptions<span class="token punctuation">(</span>threshold<span class="token operator">=</span><span class="token string">'nan'</span><span class="token punctuation">)</span> <span class="token comment">#不会省略中间数据</span></pre></td></tr></table></figure><h2 id="数组创建"><a class="anchor" href="#数组创建">#</a> 数组创建</h2><ul><li><p><code>array()</code> <strong>创建</strong> <code>ndarray</code> <strong>对象</strong></p><p>语法格式： <code>numpy.array(object, dtype = None, copy = True, order = None,subok=False,ndmin = 0)</code></p><table><thead><tr><th><strong>参数</strong></th><th><strong>参数说明</strong></th></tr></thead><tbody><tr><td><code>object</code></td><td>必选，为一个序列（列表、元组等），也可以为创建好的数组</td></tr><tr><td><code>dtype</code></td><td>指定数组元素的数据类型</td></tr><tr><td><code>copy</code></td><td>True 则可以值传递创建副本，False 则只能引用传递创建副本</td></tr><tr><td><code>order</code></td><td>指定创建数组的样式</td></tr><tr><td><code>subok</code></td><td>True 返回 object 的数据类型，False 则返回 ndarray 的数据类型</td></tr><tr><td><code>ndmin</code></td><td>指定数组的维度</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#括号内可以是列表、元组、迭代对象、生成器等</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#当元素类型不同时，选择占用内存更大的数据类型，这里会将所有元素转换为浮点型</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 创建二维数组：嵌套序列（列表，元祖均可）</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#如果数量不一样，此时创建的为一维数组</span></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'float'</span><span class="token punctuation">)</span> <span class="token comment">#指定数组的数据类型</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 定义 b，复制 a</span></pre></td></tr><tr><td data-num="10"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#此时 a 和 b 储存的内存地址不同</span></pre></td></tr><tr><td data-num="11"></td><td><pre>b<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">,</span>copy<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment">#此时 a 和 b 储存的内存地址相同</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>mat<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#创建一个矩阵</span></pre></td></tr><tr><td data-num="14"></td><td><pre>at <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">,</span>subok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment">#矩阵类型</span></pre></td></tr><tr><td data-num="15"></td><td><pre>af <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#数组类型</span></pre></td></tr></table></figure></li><li><p>** <code>arange()</code> **<strong> 生成区间数组</strong></p><p>语法格式： <code>numpy.arange(start=0, stop, step=1, dtype=None)</code> ，与 <code>range()</code> 函数相似</p><table><thead><tr><th><strong>参数</strong></th><th><strong>参数说明</strong></th></tr></thead><tbody><tr><td><code>start</code></td><td>起始值，默认为 0</td></tr><tr><td><code>stop</code></td><td><strong>必选</strong>，终止值</td></tr><tr><td><code>step</code></td><td>步长，默认为 1</td></tr><tr><td><code>dtype</code></td><td>指定元素的数据类型</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># np.array(range(10))</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#得到 array ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">4.1</span><span class="token punctuation">)</span> <span class="token comment">#使用浮点数</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#结果： array ([0., 1., 2., 3.])</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'float'</span><span class="token punctuation">)</span> <span class="token comment">#指定类型</span></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 起始 10 ，终止值 20 步长 2</span></pre></td></tr></table></figure></li><li><p><code>linspace()</code> <strong>创建等差数组</strong></p><p>语法： <code>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)</code></p><table><thead><tr><th><strong>参数</strong></th><th><strong>描述说明</strong></th></tr></thead><tbody><tr><td><code>start</code></td><td>必填项，起始值，</td></tr><tr><td><code>stop</code></td><td>必填项，终止值，如果 <code>endpoint</code> 为 <code>true</code> ，该值包含于数列中</td></tr><tr><td><code>num</code></td><td>指定生成等步长的样本数量，默认为 50</td></tr><tr><td><code>endpoint</code></td><td>值为 true，包含 stop 值，反之不包含，默认是 <code>True</code> 。</td></tr><tr><td><code>retstep</code></td><td>为 True 时，生成的数组中会显示间距，反之不显示。</td></tr><tr><td><code>dtype</code></td><td>指定数据类型</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 以下实例用到三个参数，设置起始点为 1 ，终止点为 10，数列个数为 10。</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#得到数组 array ([1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.])</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ar1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">,</span><span class="token number">3.0</span><span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>retstep<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#结果：(array ([2. , 2.2, 2.4, 2.6, 2.8]), 0.2)</span></pre></td></tr></table></figure></li><li><p>** <code>logspace()</code> **<strong> 生成等比数组</strong></p><p>语法： <code>np.logspace(start, stop, num=50, endpoint=True, base=10.0, dtype=None)</code></p><table><thead><tr><th><strong>参数</strong></th><th><strong>描述说明</strong></th></tr></thead><tbody><tr><td><code>start</code></td><td>必选，起始值，</td></tr><tr><td><code>stop</code></td><td>必选，终止值，如果 <code>endpoint</code> 为 <code>true</code> ，则该值包含于数组中</td></tr><tr><td><code>num</code></td><td>生成的等步长的样本数量，默认为 50</td></tr><tr><td><code>endpoint</code></td><td>为 <code>true</code> 时，包含 <code>stop</code> 值，反之不包含，默认是 <code>True</code> 。</td></tr><tr><td><code>base</code></td><td>指数的底数，默认为 10</td></tr><tr><td><code>dtype</code></td><td>指定数据类型</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>logspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>base<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#得到结果：array ([1.,   2.,   4.,   8.,  16.,  32.,  64., 128., 256., 512.]) 2 的 n 次方</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>logspace<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span><span class="token number">2.0</span><span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token triple-quoted-string string">'''结果：array([ 10.        ,  12.91549665,  16.68100537,  21.5443469 ,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        27.82559402,  35.93813664,  46.41588834,  59.94842503,</pre></td></tr><tr><td data-num="6"></td><td><pre>        77.42636827, 100.        ])'''</pre></td></tr></table></figure></li><li><p><code>zeros()</code> 生成全 0 数组 / ​ <code>ones()</code> <strong>生成全 1 数组</strong></p><p><code>numpy.zeros(shape, dtype = float, order = 'C')</code> ， <code>ones()</code> 格式一致</p><table><thead><tr><th><strong>参数</strong></th><th><strong>参数说明</strong></th></tr></thead><tbody><tr><td><code>shape</code></td><td>必选，用元组类型指定数组的形状</td></tr><tr><td><code>dtype</code></td><td>数据类型</td></tr><tr><td><code>order</code></td><td>以行（C）或列（F）顺序存储多维数据</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 默认为浮点数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#结果：array ([0., 0., 0., 0., 0.])</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype <span class="token operator">=</span> <span class="token string">'int'</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#  5  表示一个整形，而 (5,) 表示一个元组</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2 行 2 列的全 1 数组</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#zeros_like 返回与给定数组有相同的 形状 和 类型 的零数组</span></pre></td></tr><tr><td data-num="8"></td><td><pre>ar1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>ar1<span class="token punctuation">)</span> <span class="token comment"># ones_like 类似</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token triple-quoted-string string">'''结果：array([[0, 0, 0],</span></pre></td></tr><tr><td data-num="11"></td><td><pre>       [0, 0, 0]])'''</pre></td></tr></table></figure></li><li><p><strong>创建随机数组</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#rand () 函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#创建有三个元素的数组，每个元素为 [0,1) 的随机数</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#2 行 3 列的随机数数组</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#randn () 函数</span></pre></td></tr><tr><td data-num="6"></td><td><pre>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#每个元素符合标准正态分布</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#randint () 函数</span></pre></td></tr><tr><td data-num="9"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">#创建有 10 个元素的数组，每个元素是 [1,5) 的随机整数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成二维数组</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">#sample (size) 生成 [0.1) 的随机数</span></pre></td></tr><tr><td data-num="13"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成二维随机数组，元素取 [0.1)</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">#随机种子 seed ()，需要在 每次使用 随机函数之前调用，表示种子相同</span></pre></td></tr><tr><td data-num="16"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">#调用 seed () 函数只能负责到下一次随机函数的生成</span></pre></td></tr><tr><td data-num="17"></td><td><pre>L1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>L2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#生成的 L1 和 L2 数组相同</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">#正态分布 normal (loc=0.0, scale=1.0, size=None)</span></pre></td></tr></table></figure><ul><li><strong>创建正态分布数组</strong> <code>random.normal(loc=0.0, scale=1.0, size=None)</code></li><li><code>loc</code> : float 型 /float 型数组对象，指定均值 μ</li><li><code>scale</code> : float 型 /float 型数组对象，指定标准差 σ</li><li><code>size</code> : int 型 /int 型的元组，指定数组的形状。<br>不提供 <code>size</code> ，且 loc 和 scale 为标量，返回一个服从该分布的随机数。</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 标准正态分布，3 行 2 列</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 均值为 1，标准差为 3，4 行 5 列</span></pre></td></tr><tr><td data-num="5"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>** <code>Matrix</code> **<strong> 矩阵库</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>empty<span class="token punctuation">(</span>shape<span class="token punctuation">,</span> dtype<span class="token punctuation">,</span> order<span class="token punctuation">)</span> <span class="token comment">#创建速度非常快，填充的无意义的值</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">-</span> shape：以元组的形式指定矩阵的形状。</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">-</span> dtype：表示矩阵的数据类型。</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">-</span> order：有两种选择，C（行序优先） 或者 F（列序优先）。</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>eye<span class="token punctuation">(</span>n<span class="token punctuation">,</span>M<span class="token punctuation">,</span>k<span class="token punctuation">,</span> dtype<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token operator">-</span> n：返回矩阵的行数；</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">-</span> M：返回矩阵的列数，默认为 n；</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token operator">-</span> k：对角线的索引；</pre></td></tr></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#矩阵中会填充无意义的随机值</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成 2*2 的零填充矩阵</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#生成 2*2 的 1 填充矩阵</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>eye<span class="token punctuation">(</span>n <span class="token operator">=</span>  <span class="token number">3</span><span class="token punctuation">,</span> M <span class="token operator">=</span>  <span class="token number">4</span><span class="token punctuation">,</span> k <span class="token operator">=</span>  <span class="token number">0</span><span class="token punctuation">,</span> dtype <span class="token operator">=</span>  <span class="token builtin">float</span><span class="token punctuation">)</span> <span class="token comment">#生成对角线为 1 的矩阵</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>identity<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 返回一个 5 维的单位阵</span></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>matlib<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#0-1 随机数填充的 3*3 矩阵</span></pre></td></tr></table></figure></li></ul><h2 id="数组属性"><a class="anchor" href="#数组属性">#</a> 数组属性</h2><blockquote><p>🍋数组属性和方法均有两种调用方式，1. <code>变量名.属性名</code> ，2. <code>np.属性名(变量名)</code></p></blockquote><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token punctuation">.</span>shape <span class="token comment"># 返回数组形状 (几行几列)，这里为 (6,)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>shape<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 第 2 种方式，与上面得到结果一致</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a<span class="token punctuation">.</span>ndim <span class="token comment">#返回数组的维数</span></pre></td></tr></table></figure><ul><li><strong>其他属性</strong><table><thead><tr><th><strong>属性</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td><code>ndarray.ndim</code></td><td>数组的维度</td></tr><tr><td><code>ndarray.shape</code></td><td>数组的形状，n 行 m 列</td></tr><tr><td><code>ndarray.size</code></td><td>数组元素的总个数，相当于 <code>.shape</code> 中 <code>n*m</code> 的值</td></tr><tr><td><code>ndarray.dtype</code></td><td>元素数据类型</td></tr><tr><td><code>ndarray.itemsize</code></td><td>每个元素的大小，以字节为单位</td></tr><tr><td><code>ndarray.flags</code></td><td>内存信息</td></tr><tr><td><code>ndarray.real</code></td><td>所有元素的实部</td></tr><tr><td><code>ndarray.imag</code></td><td>所有元素的虚部</td></tr></tbody></table></li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#两行三列数组</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#返回改变后的数组</span></pre></td></tr><tr><td data-num="3"></td><td><pre>a<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">#直接改变数组属性，如果元素变多，则用 0 填充</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#要求新数组与原数组，元素数量保持一致</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'float32'</span><span class="token punctuation">)</span> <span class="token comment">#修改数据类型</span></pre></td></tr><tr><td data-num="6"></td><td><pre>a<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float_<span class="token punctuation">)</span></pre></td></tr></table></figure><ul><li><p><code>resize</code> 与 <code>reshape</code> 区别</p><p>resize 会将多余的元素用 0 填充。直接<strong>修改数组的属性</strong>，没有返回值。</p><p>reshape 如果元素数量不一致，则报错。<strong>不修改数组的属性</strong>，返回一个修改好的数组。</p></li><li><p><strong>其他方法</strong></p><table><thead><tr><th>方法</th><th>方法说明</th></tr></thead><tbody><tr><td><code>ndarray.tolist()</code></td><td>将数组转换为 Python 的列表类型</td></tr><tr><td><code>ndarray.tostring()</code></td><td>转换为字符串类型</td></tr><tr><td><code>ndarray.astype()</code></td><td>转换元素数据类型</td></tr><tr><td><code>ndarray.dump()</code></td><td>储存到文件</td></tr><tr><td><code>ndarray.dumps()</code></td><td>转化为字符串进行储存</td></tr><tr><td><code>ndarray.fill(value)</code></td><td>用 <code>value</code> 填充该数组所有元素</td></tr><tr><td><code>ndarray.transpose()</code> 或 <code>ndarray.T</code></td><td>数组的<strong>转置</strong></td></tr><tr><td><code>ndarray.ravel()</code></td><td>数组降维而成的一维数组</td></tr></tbody></table></li><li><p><strong>结构化数据</strong><br>描述一位老师的姓名、年龄、工资的特征<br><code>str</code> 字段： <code>name``int</code> 字段： <code>age``float</code> 字段： <code>salary</code></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>teacher <span class="token operator">=</span> np<span class="token punctuation">.</span>dtype<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>str_<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'int'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'salary'</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>float_<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 定义一个数据类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#[('name', '&lt;U2'), ('age', 'i1'), ('salary', '&lt;f4')]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#将其应用于 ndarray 对象</span></pre></td></tr><tr><td data-num="4"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'wl'</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">8357.50</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'lh'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">7856.80</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype <span class="token operator">=</span> teacher<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#[('wl', 32, 8357.5) ('lh', 28, 7856.8)]</span></pre></td></tr></table></figure></li></ul><p><img loading="lazy" data-src="/images/image_Knn67z15Et.png-56a18e13-2ac3-4d59-a798-e61d0a871bc1-1742898687785.png" alt="alt text"></p><p><img loading="lazy" data-src="/images/image_L1gVcFq7WY.png-f97b1a61-166e-42e9-b322-4d67de3ee5bc-1742898692407.png" alt="alt text"></p><h2 id="切片与索引"><a class="anchor" href="#切片与索引">#</a> 切片与索引</h2><ul><li><p><strong>一维数组</strong></p><p><code>冒号分隔切片参数 [start:stop:step]</code> ，索引和步长均可以为负数</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#提取索引为 2 的数据</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 从索引 2 开始到索引 7 停止，间隔为 2</span></pre></td></tr><tr><td data-num="4"></td><td><pre>s<span class="token operator">=</span><span class="token builtin">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#创建 slice 对象</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#结果 array ([2,4,6])</span></pre></td></tr><tr><td data-num="6"></td><td><pre>a<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token comment">#与上一行的切片等价</span></pre></td></tr><tr><td data-num="7"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment">#提取索引项之后的所有数据</span></pre></td></tr><tr><td data-num="8"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">#提取索引项之前的所有数据</span></pre></td></tr><tr><td data-num="9"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#将数据反转，索引和步长均可以为负数</span></pre></td></tr></table></figure></li><li><p><strong>二维数组</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">#四行五列的数组</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token triple-quoted-string string">'''[[ 0  1  2  3  4]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    [ 5  6  7  8  9]</pre></td></tr><tr><td data-num="4"></td><td><pre>    [10 11 12 13 14]</pre></td></tr><tr><td data-num="5"></td><td><pre>    [15 16 17 18 19]]'''</pre></td></tr><tr><td data-num="6"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#提取第三行的元素  [10 11 12 13 14]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#提取出第三行元素，得到一个一维数组，再取该数组索引为 2 的元素  12</span></pre></td></tr><tr><td data-num="8"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment">#取第三行之后的所有行  [[10, 11, 12, 13, 14],[15, 16, 17, 18, 19]]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#取所有行，再取索引为 1 的数组，组成数组</span></pre></td></tr><tr><td data-num="10"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment">#取索引为 1 的行，再取该行所有列，组成数组</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">#a [:][1]，a [1][:] 结果相同为  array ([5, 6, 7, 8, 9])</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">#还可以使用省略号...</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#取第二列数据，与 a [:,1] 结果相同 [1,  6, 11, 16]</span></pre></td></tr><tr><td data-num="15"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#返回第二行第三列元素 7</span></pre></td></tr></table></figure><ul><li><p>** <code>a[1,2]</code> <strong><strong>与</strong></strong> <code>a[1][2]</code> **<strong> 区别</strong></p><p><code>a[1,2]</code> 表示取行索引 1，列索引 2 的元素（直接取值）</p><p><code>a[1][2]</code> 表示先取行索引为 1 的数组，再取该数组索引为 2 的元素（分布取值）</p></li></ul></li><li><p><strong>整数数组索引</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">#四行五列的数组</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token triple-quoted-string string">'''[[ 0  1  2  3  4]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    [ 5  6  7  8  9]</pre></td></tr><tr><td data-num="4"></td><td><pre>    [10 11 12 13 14]</pre></td></tr><tr><td data-num="5"></td><td><pre>    [15 16 17 18 19]]'''</pre></td></tr><tr><td data-num="6"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">#取坐标为 (0,0),(1,1),(2,0) 的元素 0,6,10</span></pre></td></tr><tr><td data-num="7"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">#取第一行和第二行数据  [0, 1, 2, 3, 4],[5, 6, 7, 8, 9]]</span></pre></td></tr><tr><td data-num="8"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">#取二三行和二三列交叉元素，组成数组 [[6, 7],[11, 12]]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">#与上面结果相同</span></pre></td></tr><tr><td data-num="10"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment"># ... 表示所有行， 1: 表示第二列之后所有列</span></pre></td></tr></table></figure><p><strong>总结</strong>：如果索引的两个中括号中，均为数字，代表取坐标；如果其中一个有冒号 <code>:</code> 或省略号 <code>...</code> ，代表取行或列。</p></li><li><p><strong>布尔索引</strong></p><p>当对数组元素进行筛选时，可以用到布尔索引。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">#四行五列的数组</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token triple-quoted-string string">'''[[ 0  1  2  3  4]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    [ 5  6  7  8  9]</pre></td></tr><tr><td data-num="4"></td><td><pre>    [10 11 12 13 14]</pre></td></tr><tr><td data-num="5"></td><td><pre>    [15 16 17 18 19]]'''</pre></td></tr><tr><td data-num="6"></td><td><pre>a<span class="token punctuation">[</span>a<span class="token operator">></span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token comment">#将元素大于 13 的提取出  [14, 15, 16, 17, 18, 19]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>a<span class="token punctuation">[</span>a<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">#提取所有奇数，并赋值为 1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>a<span class="token operator">&lt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">#多条件筛选，提取大于 4 并且小于 9 的元素</span></pre></td></tr><tr><td data-num="9"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>a<span class="token operator">&lt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">#取或</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>row <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>cocolumn <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#布尔数组</span></pre></td></tr><tr><td data-num="13"></td><td><pre>a<span class="token punctuation">[</span>row<span class="token punctuation">]</span> <span class="token comment">#提取 True 的行， [[4,  5,  6,  7],[8,  9, 10, 11]]</span></pre></td></tr><tr><td data-num="14"></td><td><pre>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>column<span class="token punctuation">]</span> <span class="token comment">#提取为 True 的列， [[0,  2],[4,  6],[8, 10]]</span></pre></td></tr></table></figure><p><strong>布尔索引</strong>的实质是：将给定布尔值为 True 的相应行或列给抽取了出来</p></li><li><p><strong>切片创建数组</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>np<span class="token punctuation">.</span>s_<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#创建切片对象 ，slice (1, 4, None)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>r_<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#按行创建 [1,4) 的数组：array ([1, 2, 3])</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>c_<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#按列创建数组：array ([[1],[2],[3]])</span></pre></td></tr></table></figure></li><li><p><strong>广播机制</strong></p><p>广播 (Broadcast) 是对<strong>不同形状的数组</strong>进行数值<strong>计算</strong>，如果数组 a,b 形状相同，则 a*b 结果为 a,b 各个元素相乘</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2*3</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 1*3</span></pre></td></tr><tr><td data-num="3"></td><td><pre>a<span class="token operator">*</span>b <span class="token comment">#可以进行运算，结果为 [[1,1,1],[1,1,1]]</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>a<span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 大小为 (2, 1, 3)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># 大小为 (4, 1)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>c <span class="token operator">=</span> a <span class="token operator">+</span> b  <span class="token comment"># c 的形状为 (2, 4, 3)</span></pre></td></tr></table></figure><p><strong>广播规则:</strong></p><ul><li>输出数组的形状是输入数组形状的各个维度上的<strong>最大值</strong>。</li><li>输入和输出数组的对应维度的<strong>相同</strong>或者<strong>有一个为 1</strong> 时，才能够计算，否则出错。</li><li>输入数组的某维度的长度为 1，运算时用维度上的<strong>第一个值</strong>。</li></ul><figure class="highlight text"><figcaption data-lang="text"></figcaption><table><tr><td data-num="1"></td><td><pre>数组a大小为(2, 3)</pre></td></tr><tr><td data-num="2"></td><td><pre>数组b大小为(1,)</pre></td></tr><tr><td data-num="3"></td><td><pre>首先右对齐：</pre></td></tr><tr><td data-num="4"></td><td><pre>   2   3</pre></td></tr><tr><td data-num="5"></td><td><pre>       1</pre></td></tr><tr><td data-num="6"></td><td><pre>----------</pre></td></tr><tr><td data-num="7"></td><td><pre>   2   3</pre></td></tr><tr><td data-num="8"></td><td><pre>所以最后两个数组运算的输出大小为：（2， 3）</pre></td></tr><tr><td data-num="9"></td><td><pre>========================================</pre></td></tr><tr><td data-num="10"></td><td><pre>数组a大小为(2, 1, 3)</pre></td></tr><tr><td data-num="11"></td><td><pre>数组b大小为(4, 1)</pre></td></tr><tr><td data-num="12"></td><td><pre>首先右对齐：</pre></td></tr><tr><td data-num="13"></td><td><pre> 2  1  3</pre></td></tr><tr><td data-num="14"></td><td><pre>    4  1</pre></td></tr><tr><td data-num="15"></td><td><pre>----------</pre></td></tr><tr><td data-num="16"></td><td><pre> 2  4  3</pre></td></tr><tr><td data-num="17"></td><td><pre>所以最后两个数组运算的输出大小为：（2, 4, 3）</pre></td></tr><tr><td data-num="18"></td><td><pre>=======================================</pre></td></tr><tr><td data-num="19"></td><td><pre>数组a大小为(2, 1, 3)</pre></td></tr><tr><td data-num="20"></td><td><pre>数组b大小为(4, 2)</pre></td></tr><tr><td data-num="21"></td><td><pre>首先右对齐：</pre></td></tr><tr><td data-num="22"></td><td><pre> 2  1  3</pre></td></tr><tr><td data-num="23"></td><td><pre>    4  2</pre></td></tr><tr><td data-num="24"></td><td><pre>----------</pre></td></tr><tr><td data-num="25"></td><td><pre>2跟3不匹配，此时就不能做运算</pre></td></tr></table></figure></li><li><p><strong>其他索引</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>nonzero<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#返回非零元素索引</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>nonzero <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#(array([0, 0, 1, 1, 2, 2]), array([0, 1, 1, 2, 0, 2]))</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>where<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#返回 满足给定条件元素的索引。</span></pre></td></tr><tr><td data-num="6"></td><td><pre>x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">9.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>x <span class="token operator">></span>  <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#大于 3 的索引。(array ([1, 1, 2, 2, 2]), array ([1, 2, 0, 1, 2]))</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>extract<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#返回满足任何条件的元素。</span></pre></td></tr><tr><td data-num="10"></td><td><pre>condition <span class="token operator">=</span> np<span class="token punctuation">.</span>mod<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">==</span>  <span class="token number">0</span>  </pre></td></tr><tr><td data-num="11"></td><td><pre>np<span class="token punctuation">.</span>extract<span class="token punctuation">(</span>condition<span class="token punctuation">,</span> x<span class="token punctuation">)</span>  <span class="token comment">#[ 0. 2. 4. 6. 8.]</span></pre></td></tr></table></figure></li></ul><h2 id="数组操作"><a class="anchor" href="#数组操作">#</a> 数组操作</h2><blockquote><p>🎃 <code>axis=0</code> 从上向下操作数组，要注意数组形状<br><code>axis=1</code> 从左向右操作数组，注意数组形状</p></blockquote><ul><li><p>** <code>append()</code> **<strong> 数组末尾添加元素</strong></p><p><strong>如果不设置</strong> ** <code>axis</code> ，则将数组转换为一维数组后再添加元素。**​</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 返回一维数组 [1 2 3 4 5 6 7 8 9]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">#返回二维数组 [[1 2 3] ,[4 5 6] ,[7 8 9]]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#返回二维数组 [[1 2 3 5 5 5] ,[4 5 6 7 8 9]]</span></pre></td></tr></table></figure></li><li><p>** <code>insert()</code> **<strong> 插入元素</strong></p><p><code>insert(arr, obj, values, axis)</code></p><ul><li><code>arr</code> ：要插入元素的数组；</li><li><code>obj</code> ：指定索引值，在该索引值之前插入 <code>values</code> 值；</li><li><code>values</code> ：要插入的值；</li><li><code>axis</code> ：指定轴。未提供，则输入数组会被展开为一维数组。</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#不提供 axis 的情况，会将数组展开</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#输出 [1 2 3 11 12 4 5 6]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#沿垂直方向插入，输出 [[1 2] ,[11 11] ,[3 4] ,[5 6]]</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">#沿水平方向插入，输出 [[1 11 2] ,[3 11 4] ,[5 11 6]]</span></pre></td></tr></table></figure></li><li><p>** <code>delete()</code> **<strong> 删除元素</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#未设置 axis，将展开为一维数组</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">#删除索引为 5 的元素，结果：[1 2 3 4 5]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#删除多行， 删除 1、2 行元素</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#axis=0，从上向下删除，结果：[[1 2]]</span></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#删除第二列，结果为 [[1],[3],[5]]</span></pre></td></tr></table></figure></li><li><p>** <code>argwhere()</code> **<strong> 返回坐标索引</strong></p><p>该函数返回数组中非 0 元素的索引，若是多维数组则返回行、列索引组成的<strong>索引坐标</strong>。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># [[0, 1, 2], [3, 4, 5]]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>argwhere<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">#返回所有非 0 元素的索引坐标</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>argwhere<span class="token punctuation">(</span>x<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#返回所有大于 1 的元素 索引坐标</span></pre></td></tr></table></figure></li><li><p>** <code>unique()</code> **<strong> 删除重复元素</strong></p><p><code>unique(arr, return_index, return_inverse, return_counts)</code></p><ul><li><code>arr</code> ：输入数组，多维数组以一维数组形式展开；</li><li><code>return_index</code> ：如果为 True，返回新数组元素在原数组中的位置（索引）；</li><li><code>return_inverse</code> ：如果为 True，返回原数组元素在新数组中的位置（索引）；</li><li><code>return_counts</code> ：如果为 True，则返回去重后的数组元素在原数组中出现的次数。</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#输出结果： [2 5 6 7 8 9]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>u<span class="token punctuation">,</span>indices <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>a<span class="token punctuation">,</span> return_index <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># u 为去重后的结果 ，而 indices 为 [1 0 2 4 7 9]，新数组元素在原数组元素的索引</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>u<span class="token punctuation">,</span>indices <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>a<span class="token punctuation">,</span>return_inverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#indices 结果为 [1 0 2 0 3 1 2 4 0 5] ，为旧数组元素在新数组元素的索引</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>u<span class="token punctuation">,</span>indices <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>a<span class="token punctuation">,</span>return_counts <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 返回去重元素的重复数量，indices 结果为：[3 2 2 1 1 1]</span></pre></td></tr></table></figure></li><li><p>** <code>allclose()</code> **<strong> 匹配两个数组</strong></p><p><code>np.allclose(a, b, rtol=1.e-5, atol=1.e-8, equal_nan=False)</code></p><ul><li><code>a</code> 是 numpy 数组，也可以是其他数值类型</li><li><code>b</code> 是 numpy 数组，也可以是其他数值类型</li><li><code>rtol</code> 是容许的相对最大误差系数</li><li><code>atol</code> 是 a 和 b 数组分别求和比较绝对值的差别</li><li><code>equal_nan</code> 是否将缺失值视为相同</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>array1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.12</span><span class="token punctuation">,</span><span class="token number">0.17</span><span class="token punctuation">,</span><span class="token number">0.24</span><span class="token punctuation">,</span><span class="token number">0.29</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>array2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.13</span><span class="token punctuation">,</span><span class="token number">0.19</span><span class="token punctuation">,</span><span class="token number">0.26</span><span class="token punctuation">,</span><span class="token number">0.31</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>allclose<span class="token punctuation">(</span>array1<span class="token punctuation">,</span>array2<span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token comment"># 输出 False</span></pre></td></tr></table></figure></li><li><p><strong>数组拼接</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#沿着垂直方向拼接</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token triple-quoted-string string">'''结果为</span></pre></td></tr><tr><td data-num="5"></td><td><pre>[[1 2]</pre></td></tr><tr><td data-num="6"></td><td><pre> [3 4]</pre></td></tr><tr><td data-num="7"></td><td><pre> [5 6]</pre></td></tr><tr><td data-num="8"></td><td><pre> [7 8]]'''</pre></td></tr><tr><td data-num="9"></td><td><pre>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#沿着水平方向拼接</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token triple-quoted-string string">'''结果为</span></pre></td></tr><tr><td data-num="11"></td><td><pre>[[1 2 5 6]</pre></td></tr><tr><td data-num="12"></td><td><pre> [3 4 7 8]]'''</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">#===========================</span></pre></td></tr><tr><td data-num="14"></td><td><pre>np<span class="token punctuation">.</span>hstack<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#水平</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token triple-quoted-string string">'''结果为</span></pre></td></tr><tr><td data-num="16"></td><td><pre>[[1 2 5 6]</pre></td></tr><tr><td data-num="17"></td><td><pre> [3 4 7 8]]'''</pre></td></tr><tr><td data-num="18"></td><td><pre>np<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#垂直</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token triple-quoted-string string">'''结果为：</span></pre></td></tr><tr><td data-num="20"></td><td><pre>[[1 2]</pre></td></tr><tr><td data-num="21"></td><td><pre> [3 4]</pre></td></tr><tr><td data-num="22"></td><td><pre> [5 6]</pre></td></tr><tr><td data-num="23"></td><td><pre> [7 8]]'''</pre></td></tr></table></figure></li><li><p><strong>数组分割</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">#数组：[0 1 2 3 4 5 6 7 8]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">#将数组分为三个等大小的子数组</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#输出结果为：[array ([0, 1, 2]), array ([3, 4, 5]), array ([6, 7, 8])]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#表明切割位置</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#输出结果为：[array ([0, 1, 2, 3]), array ([4, 5, 6]), array ([7, 8])]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#================</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#hsplit () 表示水平分割</span></pre></td></tr><tr><td data-num="8"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token triple-quoted-string string">'''[[0  1  2  3]</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    [4  5  6  7]</pre></td></tr><tr><td data-num="11"></td><td><pre>    [8  9  10 11]</pre></td></tr><tr><td data-num="12"></td><td><pre>    [12 13 14 15]]'''</pre></td></tr><tr><td data-num="13"></td><td><pre>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#水平分割</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token triple-quoted-string string">'''[array([[ 0,  1],</span></pre></td></tr><tr><td data-num="15"></td><td><pre>           [ 4,  5],</pre></td></tr><tr><td data-num="16"></td><td><pre>           [ 8,  9],</pre></td></tr><tr><td data-num="17"></td><td><pre>           [12, 13]]),</pre></td></tr><tr><td data-num="18"></td><td><pre>    array([[ 2,  3], </pre></td></tr><tr><td data-num="19"></td><td><pre>           [ 6,  7], </pre></td></tr><tr><td data-num="20"></td><td><pre>           [10, 11],      </pre></td></tr><tr><td data-num="21"></td><td><pre>           [14, 15]])]'''</pre></td></tr><tr><td data-num="22"></td><td><pre>np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#垂直分割</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token triple-quoted-string string">'''[array([[0, 1, 2, 3],</span></pre></td></tr><tr><td data-num="24"></td><td><pre>           [4, 5, 6, 7]]), </pre></td></tr><tr><td data-num="25"></td><td><pre>    array([[ 8,  9, 10, 11],</pre></td></tr><tr><td data-num="26"></td><td><pre>           [12, 13, 14, 15]])]'''</pre></td></tr></table></figure></li><li><p>numpy 算数函数</p><p><code>ufunc</code> 是 universal function 的缩写，底层使用 C 语言实现的，并且支持广播计算</p><blockquote><p>🎃默认为<strong>弧度制</strong>计算<br><code>arcsin</code> ， <code>arccos</code> ，和 <code>arctan</code> 函数返回给定<strong>角度</strong>的 <code>sin</code> ， <code>cos</code> 和 <code>tan</code> 的反三角函数。<br>可以通过 <code>np.degrees()</code> 函数通过将<strong>弧度制转换为角度制</strong>来验证。</p></blockquote><h2 id="舍入函数"><a class="anchor" href="#舍入函数">#</a> 舍入函数</h2><p><code>around(a,decimals)</code></p><ul><li>a 要舍入的数组</li><li>decimals 要舍入的小数位数。 默认值为 0。 如果为负，整数将四舍五入到小数点左侧的位置</li></ul><ul><li><code>floor()</code> 取小（返回不大于输入参数的最大整数）</li><li><code>ceil()</code> 取大（返回不小于输入参数的最大整数）</li></ul><h2 id="数学运算"><a class="anchor" href="#数学运算">#</a> 数学运算</h2><p>加 <code>add()</code> ，减 <code>subtract()</code> ，乘 <code>multiply()</code> ，除 <code>divide()</code></p><ul><li><code>reciprocal()</code> 倒数，0 则发出溢出异常</li><li><code>power()</code> 指数， <code>power(a,b)</code> a 的 b 次方</li><li><code>mod()</code> 除法余数，同 <code>remainder()</code></li><li><code>real()</code> 复数实部。</li><li><code>imag()</code> 复数虚部。</li><li><code>conj()</code> 共轭复数。</li><li><code>angle()</code> 复数的角度。 函数的参数是 <code>deg</code> 。 如果为 <code>true</code> ，返回的角度以角度制来表示，否则为以弧度制来表示。</li></ul><h2 id="逻辑运算"><a class="anchor" href="#逻辑运算">#</a> 逻辑运算</h2><ul><li>与： ufunc 函数的形式： numpy.logical_and (x1,x2 [,out=y])</li><li>或： ufunc 函数的形式： numpy.logical_or (x1,x2 [,out=y])</li><li>否定： ufunc 函数的形式： numpy.logical_not (x [,out=y])</li><li>异或： ufunc 函数的形式： numpy.logical_xor (x1,x2 [,out=y])<br>** 对于数组 x，** 定义了以下操作<br>numpy.any (x) ：只要数组中有一个元素为 True （数值类型，则为非零），返回 True</li></ul><p>numpy.all (x) ：数组中所有元素为 True （数值类型，则为非零），返回 True</p><h2 id="比较运算"><a class="anchor" href="#比较运算">#</a> 比较运算</h2><ul><li>等于： 表达式形式 y=x1==x2 ，使用 ufunc 函数的形式： numpy.equal (x1,x2 [,out=y])</li><li>不等于： 表达式形式 y=x1!=x2 ，使用 ufunc 函数的形式： numpy.not_equal (x1,x2 [,out=y])</li><li>小于： 表达式形式 y=x1&lt;x2 ，使用 ufunc 函数的形式： numpy.less (x1,x2 [,out=y])</li><li>小于等于： 表达式形式 y=x1&lt;=x2 ，使用 ufunc 函数的形式： numpy.less_equal (x1,x2 [,out=y])</li><li>大于： 表达式形式 y=x1&gt;x2 ，使用 ufunc 函数的形式： numpy.greater (x1,x2 [,out=y])</li><li>大于等于： 表达式形式 y=x1&gt;=x2 ，使用 ufunc 函数的形式： numpy.greater_equal (x1,x2 [,out=y])</li></ul><h2 id="位运算"><a class="anchor" href="#位运算">#</a> 位运算</h2><ul><li>按位与：表达式形式 y=x1&amp;x2 ，使用 ufunc 函数的形式： numpy.bitwise_and (x1,x2 [,out=y])</li><li>按位或：表达式形式 y=x1|x2 ，使用 ufunc 函数的形式： numpy.bitwise_or (x1,x2 [,out=y])</li><li>按位取反：表达式形式 y=~x ，使用 ufunc 函数的形式： numpy.bitwise_not (x [,out=y])</li><li>按位异或：表达式形式 y=x1^x2 ，使用 ufunc 函数的形式： numpy.bitwise_xor (x1,x2 [,out=y])</li></ul></li></ul><h2 id="统计函数"><a class="anchor" href="#统计函数">#</a> 统计函数</h2><p>求某一维度的统计量，设置可选参数 <code>axis</code> 。 <code>axis=0</code> 从上往下计算， <code>axis=1</code> 从左往右计算</p><p><img loading="lazy" data-src="/images/image_Pnrr7pAZG7.png-6b836d26-3f9e-4009-a871-8e45a7a94857-1742898857020.png" alt="alt text"></p><ul><li><p><strong>求平均值</strong> ** <code>mean()</code> **</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>m <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token triple-quoted-string string">'''[[ 0  1  2  3  4]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    [ 5  6  7  8  9]</pre></td></tr><tr><td data-num="4"></td><td><pre>    [10 11 12 13 14]</pre></td></tr><tr><td data-num="5"></td><td><pre>    [15 16 17 18 19]]'''</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 默认求出数组所有元素的平均值</span></pre></td></tr><tr><td data-num="7"></td><td><pre>m<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#结果为 9.5</span></pre></td></tr><tr><td data-num="8"></td><td><pre>m<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#从上向下计算 ，结果为 [7.5,  8.5,  9.5, 10.5, 11.5]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>m<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#从左往右计算，结果为 [2.,  7., 12., 17.]</span></pre></td></tr><tr><td data-num="10"></td><td><pre>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">#等价于 7 行</span></pre></td></tr></table></figure></li><li><p><strong>中位数</strong> ** <code>median()</code> **</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>median<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#结果为 5</span></pre></td></tr></table></figure></li><li><p><strong>标准差</strong> ** <code>std()</code> <strong><strong>与方差</strong></strong> <code>var()</code> **</p><blockquote><p>numpy<strong> 默认</strong>计算的是总体的方差 / 标准差，而非样本的方差 / 标准差<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p></blockquote><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">95</span><span class="token punctuation">,</span><span class="token number">85</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#总体标准差，结果为 17.07825127659933</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>var<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#总体方差</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>var<span class="token punctuation">(</span>a<span class="token punctuation">,</span>ddof <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#计算样本方差</span></pre></td></tr></table></figure></li><li><p><strong>最大最小求和</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>m <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token triple-quoted-string string">'''[[ 0  1  2  3  4]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    [ 5  6  7  8  9]</pre></td></tr><tr><td data-num="4"></td><td><pre>    [10 11 12 13 14]</pre></td></tr><tr><td data-num="5"></td><td><pre>    [15 16 17 18 19]]'''</pre></td></tr><tr><td data-num="6"></td><td><pre>m<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#求最大值 19</span></pre></td></tr><tr><td data-num="7"></td><td><pre>np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">#求最小值 0</span></pre></td></tr><tr><td data-num="8"></td><td><pre>m<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#从上往下查找，[15 16 17 18 19]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">#求和 190</span></pre></td></tr><tr><td data-num="10"></td><td><pre>m<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#从左向右查找，[10 35 60 85]</span></pre></td></tr></table></figure></li><li><p><strong>平均值</strong> ** <code>average()</code> **</p><p><code>numpy.average(a, axis=None, weights=None, returned=False)</code></p><ul><li><code>weights</code> ： <strong>可选参数</strong>，权重数组。默认为所有元素的权重等于 1</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>grade <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">95</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#成绩</span></pre></td></tr><tr><td data-num="2"></td><td><pre>w <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#计算权重</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>average<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>weights<span class="token operator">=</span>w<span class="token punctuation">)</span> <span class="token comment">#得到加权平均数</span></pre></td></tr></table></figure></li></ul><h2 id="操作文件loadtxt"><a class="anchor" href="#操作文件loadtxt">#</a> 操作文件 loadtxt</h2><p><code>loadtxt</code> 读取 <code>txt</code> 文本、 <code>csv</code> 文件<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>loadtxt<span class="token punctuation">(</span>fname<span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'float'</span><span class="token operator">></span><span class="token punctuation">,</span> comments<span class="token operator">=</span><span class="token string">'#'</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> converters<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> skiprows<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> unpack<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> ndmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'bytes'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><ul><li><code>fname</code> ：指定文件路径的字符串（推荐使用此写法 “ <code>/</code> &quot;，可以避免很多异常）。也支持压缩文件，包括 <code>gz</code> 、 <code>bz</code> 格式。</li><li><code>dtype</code> ：数据类型。 默认 <code>float</code> 。</li><li><code>comments</code> ：字符串或字符串组成的列表。表示注释字符集开始的标志，默认为 #。</li><li><code>delimiter</code> ：分隔符。</li><li><code>converters</code> ：字典。将特定列的数据转换为字典中对应的函数的浮点型数据。例如将空值转换为 0</li><li><code>skiprows</code> ：跳过特定行数据。例如跳过前 1 行（可能是标题或注释），需要修改为 1。</li><li><code>usecols</code> ：元组。指定要读取数据的列，第一列为 0。例如 <code>(1,3,5)</code> 指定 2,4,6 列</li><li><code>unpack</code> ：是否转置数组，真为转置。</li><li><code>ndmin</code> ：指定返回的数组至少包含特定维度的数组。</li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">r'file.txt'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span> <span class="token comment">#不设置分隔符，默认用空格分开</span></pre></td></tr><tr><td data-num="2"></td><td><pre>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'test.csv'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">)</span> <span class="token comment">#csv 文件需要设置分隔符为，</span></pre></td></tr></table></figure><hr><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="2"></td><td><pre>例1：数据如下:</pre></td></tr><tr><td data-num="3"></td><td><pre>姓名 年龄 性别 身高</pre></td></tr><tr><td data-num="4"></td><td><pre>小王 21 男 170</pre></td></tr><tr><td data-num="5"></td><td><pre>.....</pre></td></tr><tr><td data-num="6"></td><td><pre>老王 50 男 180</pre></td></tr><tr><td data-num="7"></td><td><pre>文件:has_title.txt'''</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 1. 以上数据由于不同列数据标识的含义和类型不同，因此需要自定义数据类型</span></pre></td></tr><tr><td data-num="9"></td><td><pre>info <span class="token operator">=</span> np<span class="token punctuation">.</span>dtype<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'U10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'i1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'gender'</span><span class="token punctuation">,</span><span class="token string">'U1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span><span class="token string">'i2'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#print(user_info)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 2. 使用自定义的数据类型 读取数据，</span></pre></td></tr><tr><td data-num="12"></td><td><pre>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'has_title.txt'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>user_info<span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 注意以上参数中: a. 设置类型；b. 跳过第一行；c. 跳过第一行；d. 编码</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#[21 25 19 40 24 21 19 26 21 21 19 20]</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">#===========================================================</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="17"></td><td><pre>例2：csv数据:</pre></td></tr><tr><td data-num="18"></td><td><pre>姓名 年龄 性别 身高</pre></td></tr><tr><td data-num="19"></td><td><pre>小王 21 男 170</pre></td></tr><tr><td data-num="20"></td><td><pre>...</pre></td></tr><tr><td data-num="21"></td><td><pre>小谭 男 169</pre></td></tr><tr><td data-num="22"></td><td><pre>...</pre></td></tr><tr><td data-num="23"></td><td><pre>小陈 27 男 177</pre></td></tr><tr><td data-num="24"></td><td><pre>文件:has_empty_data.csv'''</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># 读取指定的列 usecols=(1,3) 标识只读取第 2 列和第 4 列</span></pre></td></tr><tr><td data-num="26"></td><td><pre>user_info <span class="token operator">=</span> np<span class="token punctuation">.</span>dtype<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token string">'i1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span><span class="token string">'i2'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'has_empty_data.csv'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>info<span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>借助 <code>conventers</code> 参数 <strong>，处理空数据</strong></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 处理空数据，需要创建一个函数，接收列的参数，并加以处理.</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">parse_age</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">except</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'has_empty_data.csv'</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>info<span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span>skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>usecols<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>converters<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">:</span>parse_age<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">:</span>parse_age<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#可以指定 dtype 为 object，可以接受任何类型的数据</span></pre></td></tr></table></figure><h2 id="数组排序"><a class="anchor" href="#数组排序">#</a> 数组排序</h2><ul><li><p><code>sort()</code> 数据排序</p><p><code>sort()</code> 返回输入数组的排序副本。<br><code>sort(a, axis, kind, order)</code></p><ul><li><p><code>kind</code> 默认为 <code>'quicksort'</code> （快速排序）</p><p><code>quicksort</code> （快速排序）、 <code>mergesort</code> （归并排序）、 <code>heapsort</code> （堆排序）</p></li><li><p><code>order</code> 要排序的字段</p></li></ul><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">,</span> axis <span class="token operator">=</span>  <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#沿垂直方向排序</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#默认沿水平方向排序</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#===============================</span></pre></td></tr><tr><td data-num="5"></td><td><pre>dt <span class="token operator">=</span> np<span class="token punctuation">.</span>dtype<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span>  <span class="token string">'S10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span>  <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"raju"</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"anil"</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"ravi"</span><span class="token punctuation">,</span>  <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">"amar"</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype <span class="token operator">=</span> dt<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">,</span> order <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token comment">#按 'name' 字段排序</span></pre></td></tr></table></figure></li><li><p><code>argsort()</code> 返回排序索引</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>y <span class="token operator">=</span> np<span class="token punctuation">.</span>argsort<span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># y 为 [1 2 0]，代表排序后各个元素，在原数组中的索引</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#返回最大值的索引 7</span></pre></td></tr><tr><td data-num="6"></td><td><pre>np<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>a<span class="token punctuation">,</span> axis <span class="token operator">=</span>  <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">#每列最大值索引 [1 2 0]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>np<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>a<span class="token punctuation">,</span> axis <span class="token operator">=</span>  <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">#每行最大值索引 [2 0 1]</span></pre></td></tr></table></figure></li></ul><h1 id="线性代数"><a class="anchor" href="#线性代数">#</a> 线性代数</h1><table><thead><tr><th><strong>函数名称</strong></th><th><strong>描述说明</strong></th></tr></thead><tbody><tr><td><code>dot</code></td><td>两个数组的点积。矩阵乘法</td></tr><tr><td><code>vdot</code></td><td>两个向量的点积。</td></tr><tr><td><code>inner</code></td><td>两个数组的内积。</td></tr><tr><td><code>matmul</code></td><td>两个数组的矩阵积。</td></tr><tr><td><code>det</code></td><td>计算输入矩阵的行列式。</td></tr><tr><td><code>solve</code></td><td>求解线性矩阵方程。</td></tr><tr><td><code>inv</code></td><td>计算矩阵的逆矩阵，逆矩阵与原始矩阵相乘，会得到单位矩阵。</td></tr><tr><td><code>transpose</code></td><td>矩阵转置</td></tr></tbody></table><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 点积、矩阵乘积</span></pre></td></tr><tr><td data-num="4"></td><td><pre>np<span class="token punctuation">.</span>vdot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 对应相乘求和</span></pre></td></tr><tr><td data-num="5"></td><td><pre>np<span class="token punctuation">.</span>inner<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 内积 </span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="7"></td><td><pre>100*10+200*20  100*12+200*21</pre></td></tr><tr><td data-num="8"></td><td><pre>23*10+12*20   23*12+12*21</pre></td></tr><tr><td data-num="9"></td><td><pre>'''</pre></td></tr><tr><td data-num="10"></td><td><pre>np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>det<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 计算行列式</span></pre></td></tr><tr><td data-num="11"></td><td><pre>A <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>solve<span class="token punctuation">(</span>A<span class="token punctuation">,</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>A<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 矩阵转置</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>inv<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 求逆矩阵</span></pre></td></tr></table></figure><hr><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>$ 样本方差 S^<ruby>2}=\frac{1}{n-1} \sum_{i=1}<rp>(</rp><rt>{n</rt><rp>)</rp></ruby>\left(X_<ruby>i}-\bar{X}\right)<rp>(</rp><rt>{2</rt><rp>)</rp></ruby>\<br>总体方差 S^<ruby>2}=\frac{1}{n} \sum_{i=1}<rp>(</rp><rt>{n</rt><rp>)</rp></ruby>\left(X_<ruby>i}-\bar{X}\right)<rp>(</rp><rt>{2</rt><rp>)</rp></ruby>$<br>设置 <code>ddof=1</code> 参数，可以计算样本方差 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>CSV（<strong>逗号分隔值</strong>）是纯文本文件格式，用于存储表格数据 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section><div class="tags"><a href="/tags/Python/" rel="tag"><i class="ic i-tag"></i>Python</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-eye"></i></span><span class="text">Total Views: </span><span class="waline-pageview-count" id="twikoo_visitors" data-path="/2025/03/25/numpy-note/">Loading...</span></span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">Edited on </span><time title="Modified: 2025-03-25 19:35:08" itemprop="dateModified" datetime="2025-03-25T19:35:08+09:00">2025-03-25</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.png" alt="huaji WeChat Pay"><p>WeChat Pay</p></div><div><img loading="lazy" data-src="/assets/alipay.png" alt="huaji Alipay"><p>Alipay</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>huaji<i class="ic i-at"><em>@</em></i>Huaji Blog</li><li class="link"><strong>Post link: </strong><a href="https://candle233.github.io/2025/03/25/numpy-note/" title="numpy-note">https://candle233.github.io/2025/03/25/numpy-note/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2025/03/25/When-solve-TSP-VRP-by-OR-Tools-why-distance-callback-is-only-called-once/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2025&#x2F;03&#x2F;23&#x2F;9Ej81drVMDANTxz.png" title="When solve TSP&#x2F;VRP by OR-Tools, why &#96;distance_callback&#96; is only called once?"><span class="type">Previous Post</span><span class="category"><i class="ic i-flag"></i>Discrete Optimization</span><h3>When solve TSP/VRP by OR-Tools, why `distance_callback` is only called once?</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">参数设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA"><span class="toc-number">2.</span> <span class="toc-text">数组创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7"><span class="toc-number">3.</span> <span class="toc-text">数组属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E4%B8%8E%E7%B4%A2%E5%BC%95"><span class="toc-number">4.</span> <span class="toc-text">切片与索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">数组操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%88%8D%E5%85%A5%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">舍入函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">7.</span> <span class="toc-text">数学运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">8.</span> <span class="toc-text">逻辑运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"><span class="toc-number">9.</span> <span class="toc-text">比较运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-number">10.</span> <span class="toc-text">位运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-number">11.</span> <span class="toc-text">统计函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6loadtxt"><span class="toc-number">12.</span> <span class="toc-text">操作文件 loadtxt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-number">13.</span> <span class="toc-text">数组排序</span></a></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">线性代数</span></a></li></div><div class="related panel pjax" data-title="Related"><ul><li class="active"><a href="/2025/03/25/numpy-note/" rel="bookmark" title="numpy-note">numpy-note</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="huaji" src="/assets/avatar.jpg"><p class="name" itemprop="name">huaji</p><div class="description" itemprop="description">To keep notes and my daily life</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">30</span><span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">8</span><span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">12</span><span class="name">tags</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/candle233" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;candle233"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="#" onclick="return!1"><i class="ic i-user"></i>About</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>About This Site</a></li></ul></li><li class="item dropdown"><a href="#" onclick="return!1"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>Friends</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2025/03/25/When-solve-TSP-VRP-by-OR-Tools-why-distance-callback-is-only-called-once/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/software-hardware/" title="Insoftware&amp;hardware">software&hardware</a></div><span><a href="/2022/03/26/java-convert-wechat-silk-to-mp3/">java将微信语音的silk文件转换成MP3</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Computer-Science/" title="InComputer Science">Computer Science</a></div><span><a href="/2022/04/10/cpp-output-bool-cforbool/">C++输出cout布尔类型</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Compyter-Science/" title="InCompyter Science">Compyter Science</a><i class="ic i-angle-right"></i><a href="/categories/Compyter-Science/Mathematics/" title="InMathematics">Mathematics</a></div><span><a href="/2025/03/25/numpy-note/">numpy-note</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Mathematics/" title="InMathematics">Mathematics</a></div><span><a href="/2022/06/24/Probability-Statistics-Notes/">Probability Statistics Notes_1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software-Hardware/" title="InSoftware&amp;Hardware">Software&Hardware</a></div><span><a href="/2022/03/13/remove-sublime-ads/">如何去除sublime text的广告</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Computer-Science/" title="InComputer Science">Computer Science</a></div><span><a href="/2022/03/18/java-formatted-output-methods/">Java格式化输出的四种方法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Japanese/" title="InJapanese">Japanese</a></div><span><a href="/2022/03/08/standard-japanese-book1-study/">标准日本语上册学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Compyter-Science/" title="InCompyter Science">Compyter Science</a></div><span><a href="/2022/03/05/data-structure-algo-intro/">数据结构与算法笔记——绪论</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/13/gpa-prisoner-dilemma-top-cn-universities/">绩点为王：中国顶尖高校年轻人的囚徒困境</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Mathematics/" title="InMathematics">Mathematics</a></div><span><a href="/2022/03/13/undergraduate-math-courses/">大学本科数学专业课程</a></span></li></ul></div><div class="rpost pjax"><h2>Recent Comments</h2><ul class="leancloud-recent-comment" id="new-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2025 -<span itemprop="copyrightYear">2025</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">huaji @ Welcome!</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="Symbols count total">213k words</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="Reading time total">3:14</span></div><div class="powered-by">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
    path: `2025/03/25/numpy-note/`,
    favicon: {
        show: `(*￣▽￣) Gotcha!`,
        hide: `(×_×;) I'm gonna die!!!`
    },
    search: {
        placeholder: "Search for Posts",
        empty: "We didn't find any results for the search: ${query}",
        stats: "${hits} results found in ${time} ms"
    },
    nocopy: "false",
    copyright: `Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.`,
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">Article Timeliness Alert</span><br>This is an article published {{publish}} days ago and last updated {{updated}} days ago. Some information may have changed, so please be careful to screen it.</p></div>`,
    quiz: {
        choice: `Multiple Choice`,
        multiple: `Multiple Answer`,
        true_false: `True/False`,
        essay: `Questions`,
        gap_fill: `Gap Filling`,
        mistake: `Wrong Answer`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};</script><script src="https://s4.zstatic.net/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha384-ZvpUoO&#x2F;+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn&#x2F;6Z&#x2F;hRTt8+pR6L4N2" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha384-Zm+UU4tdcfAm29vg+MTbfu&#x2F;&#x2F;q5B&#x2F;lInMbMCr4T8c9rQFyOv6PlfQYpB5wItcXWe7" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" integrity="sha384-TOxsBplaL96&#x2F;QDWPIUg+ye3v89qSE3s22XNtJMmCeZEep3cVDmXy1zEfZvVv+y2m" crossorigin="anonymous" fetchpriority="high"></script><script src="/js/siteInit.js?v=0.4.25" type="module" fetchpriority="high" defer></script></body></html><!-- rebuild by hrmmi -->